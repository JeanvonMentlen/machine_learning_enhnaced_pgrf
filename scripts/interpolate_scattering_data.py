import numpy as np
from scipy import interpolate


def interpolate_data(input_file, output_file, target_x_values):
    # Read the input data
    data = np.loadtxt(input_file)
    x = data[:, 0]
    y = data[:, 1]

    # Create an interpolation function
    f = interpolate.interp1d(x, y, kind='cubic', fill_value='extrapolate')

    # Interpolate y values for the target x values
    interpolated_y = f(target_x_values)

    # Save the interpolated data
    np.savetxt(output_file, np.column_stack((target_x_values, interpolated_y)), fmt='%.6f', delimiter='\t')

    return interpolated_y


# x-values the model was trained on (167 points)
model_x_values = np.array([
    0.0093058, 0.0103645, 0.0115455, 0.0126557, 0.0137538, 0.0147731, 0.0157239, 0.016827, 0.0179506, 0.0191079,
    0.0202853, 0.0214485, 0.0225738, 0.0236196, 0.0247, 0.0258615, 0.0270162, 0.0282279, 0.0294251, 0.0306238,
    0.0318677, 0.033063, 0.0342359, 0.0354869, 0.0367411, 0.0379729, 0.0392745, 0.0406205, 0.0419182, 0.0431924,
    0.0445274, 0.0458594, 0.0471831, 0.0485394, 0.0499276, 0.0513521, 0.0527947, 0.0542244, 0.0556647, 0.057116,
    0.0585942, 0.0601669, 0.0617501, 0.0633027, 0.0648427, 0.0664505, 0.0680906, 0.0697541, 0.0714684, 0.0731742,
    0.0748875, 0.0766467, 0.078434, 0.0802591, 0.0820923, 0.0839444, 0.0858176, 0.0877803, 0.0897475, 0.0917761,
    0.0937817, 0.0958655, 0.0980477, 0.10017, 0.102315, 0.104548, 0.106821, 0.109156, 0.111495, 0.113817,
    0.116206, 0.118683, 0.121195, 0.123733, 0.12634, 0.128899, 0.131628, 0.134355, 0.137119, 0.139932,
    0.142787, 0.145733, 0.148448, 0.152652, 0.15538, 0.159371, 0.162349, 0.166347, 0.169766, 0.173558,
    0.177274, 0.180942, 0.185456, 0.189089, 0.193336, 0.197315, 0.201451, 0.206071, 0.210136, 0.214627,
    0.219521, 0.223652, 0.228343, 0.233449, 0.238215, 0.242855, 0.248219, 0.253523, 0.258346, 0.263438,
    0.269055, 0.27479, 0.280466, 0.285853, 0.291366, 0.297468, 0.303636, 0.309839, 0.316163, 0.322475,
    0.328949, 0.335554, 0.342267, 0.349075, 0.355959, 0.363115, 0.370405, 0.37781, 0.385237, 0.392801,
    0.400533, 0.408359, 0.416323, 0.424684, 0.433263, 0.44171, 0.450249, 0.459148, 0.468233, 0.47736,
    0.486797, 0.49645, 0.506181, 0.515957, 0.526026, 0.536353, 0.546951, 0.557479, 0.568525, 0.57949,
    0.590744, 0.602447, 0.61421, 0.625924, 0.638063, 0.650627, 0.663363, 0.676312, 0.689413, 0.702781,
    0.716336, 0.730278, 0.744607, 0.759034, 0.773714, 0.787403, 0.79773
])

# Example usage
input_file = 'input_data.txt'
output_file = 'interpolated_data.txt'
interpolated_y = interpolate_data(input_file, output_file, model_x_values)

print(f"Interpolation complete. Output saved to {output_file}")
